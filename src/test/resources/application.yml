#
# CONFIGURATION FOR TEST
#
# spring.embedded.kafka.brokers system property is set by Embedded Kafka server to 
# the addresses of the bootstrap servers
#
# TODO: ibm.spring.event-streams.password coerces SSL, which breaks junit tests. Need to resolve that, 
# and change the name of this file to include 'test', and only include overrides in this file.    
#

spring:
  jpa:
    generate-ddl: true
  datasource:
    url: jdbc:h2:mem:testdb
    username: sa
    password: sa
    driver-class-name: org.h2.Driver
  kafka:
    bootstrap-servers: ${spring.embedded.kafka.brokers}
    consumer:
      auto-offset-reset: earliest
  json:
    trusted:
      packages: inventory.api.kafka.messages
    
events:
  api:
    orders:
      topic: test
      
management:
  endpoints:
    web:
      exposure:
        include: health,metrics,prometheus,liveness

ibm:
  spring:
    kafka:
      subpackages: inventory.api.kafka.messages

# spring.kafka.consumer.group-id=orders-service
# spring.kafka.consumer.auto-offset-reset=earliest
# spring.kafka.consumer.key-deserializer=org.apache.kafka.common.serialization.StringDeserializer
# spring.kafka.consumer.value-deserializer=org.apache.kafka.common.serialization.StringDeserializer

        